/* Paper Theme */
.theme-paper {
  --color-bg-primary: #fefcf7;
  --color-bg-secondary: #f9f6f0;
  --color-bg-tertiary: #f4f1ea;
  
  --color-text-primary: #2d2a24;
  --color-text-secondary: #6b6458;
  
  --color-border: #e8e3d8;
  --color-border-hover: #ddd6c7;
  
  --color-primary: #8b5a3c;
  --color-primary-hover: #7a4d33;
}

.theme-paper .primary-btn {
  background-color: #3d2914;
  color: #fefcf7;
  border-color: #3d2914;
  box-shadow: 
    0 2px 4px rgba(61, 41, 20, 0.2),
    inset 0 1px 0 rgba(254, 252, 247, 0.1);
}

.theme-paper .primary-btn:hover {
  background-color: #2a1c0e;
  border-color: #2a1c0e;
  box-shadow: 
    0 3px 6px rgba(61, 41, 20, 0.3),
    inset 0 1px 0 rgba(254, 252, 247, 0.15);
}

.theme-paper .scene-text {
  background: linear-gradient(135deg, #fefcf7 0%, #f9f6f0 100%);
  border: 1px solid var(--color-border);
  position: relative;
}

.theme-paper .scene-text::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    radial-gradient(circle at 20% 80%, rgba(139, 90, 60, 0.03) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(139, 90, 60, 0.03) 0%, transparent 50%);
  pointer-events: none;
  border-radius: var(--radius-lg);
}

.theme-paper .character-card,
.theme-paper .card {
  background: linear-gradient(135deg, #fefcf7 0%, #f9f6f0 100%);
  box-shadow: 
    0 4px 6px -1px rgba(139, 90, 60, 0.1),
    0 2px 4px -2px rgba(139, 90, 60, 0.1);
}

.theme-paper .choice-btn {
  background: linear-gradient(135deg, #fefcf7 0%, #f9f6f0 100%);
  border-color: var(--color-border);
}

.theme-paper .choice-btn:hover {
  background: linear-gradient(135deg, #f9f6f0 0%, #f4f1ea 100%);
  border-color: var(--color-primary);
}

/* 高优先级覆盖：确保主按钮在场景选择区域可见 */
#scene-choices .choice-btn.primary-btn {
  background-color: #3d2914 !important;
  color: #fefcf7 !important;
  border-color: #3d2914 !important;
  box-shadow: 
    0 2px 4px rgba(61, 41, 20, 0.2),
    inset 0 1px 0 rgba(254, 252, 247, 0.1) !important;
}

#scene-choices .choice-btn.primary-btn:hover {
  background-color: #2a1c0e !important;
  border-color: #2a1c0e !important;
  box-shadow: 
    0 3px 6px rgba(61, 41, 20, 0.3),
    inset 0 1px 0 rgba(254, 252, 247, 0.15) !important;
}

#scene-choices .choice-btn.primary-btn span {
  color: #fefcf7 !important;
}

/* Enhanced Continue Button for Paper Theme */
.theme-paper .continue-btn {
  background: linear-gradient(135deg, #8b5a3c 0%, #7a4d33 100%);
  color: #fefcf7;
  border: 1px solid #6b4129;
  box-shadow: 
    0 3px 8px rgba(139, 90, 60, 0.25),
    inset 0 1px 0 rgba(254, 252, 247, 0.15);
  position: relative;
  overflow: hidden;
  min-height: 52px;
  font-weight: 500;
  letter-spacing: 0.5px;
  transition: all 0.3s ease;
}

.theme-paper .continue-btn:hover:not(:disabled) {
  background: linear-gradient(135deg, #7a4d33 0%, #6b4129 100%);
  box-shadow: 
    0 4px 12px rgba(139, 90, 60, 0.35),
    inset 0 1px 0 rgba(254, 252, 247, 0.2);
  transform: translateY(-1px);
}

.theme-paper .continue-btn:active {
  transform: translateY(0);
  box-shadow: 
    0 2px 6px rgba(139, 90, 60, 0.3),
    inset 0 1px 0 rgba(254, 252, 247, 0.1);
}

.theme-paper .continue-btn:disabled {
  background: linear-gradient(135deg, #d4c4b0 0%, #c7b59f 100%);
  color: #8b7d6f;
  border-color: #b8a896;
  box-shadow: none;
  cursor: not-allowed;
  opacity: 0.7;
}

.theme-paper .continue-btn.ready {
  animation: paperButtonReady 0.6s ease-out;
}

@keyframes paperButtonReady {
  0% {
    opacity: 0.7;
    transform: scale(0.95);
  }
  50% {
    transform: scale(1.02);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

.theme-paper .continue-btn .btn-underline {
  background: linear-gradient(90deg, #fefcf7 0%, #f9f6f0 100%);
  height: 2px;
  opacity: 0.8;
}

.theme-paper .continue-dot {
  width: 6px;
  height: 6px;
  background: #8b5a3c;
  border-radius: 50%;
  animation: paperDotPulse 1.8s ease-in-out infinite;
  opacity: 0.8;
}

@keyframes paperDotPulse {
  0%, 100% { 
    transform: scale(1); 
    opacity: 0.6; 
  }
  50% { 
    transform: scale(1.4); 
    opacity: 1; 
    box-shadow: 0 0 8px rgba(139, 90, 60, 0.4);
  }
}

/* FORCE EFFECTIVE: Enhanced Continue Button - High Priority Selectors */
.view#scene-view .continue-wrap .continue-btn,
.view#scene-view #scene-choices .enhanced-continue {
  background: linear-gradient(135deg, #8b5a3c 0%, #7a4d33 100%) !important;
  color: #fefcf7 !important;
  border: 1px solid #6b4129 !important;
  box-shadow: 
    0 3px 8px rgba(139, 90, 60, 0.25),
    inset 0 1px 0 rgba(254, 252, 247, 0.15) !important;
  min-height: 52px !important;
  font-weight: 500 !important;
  letter-spacing: 0.5px !important;
  transition: all 0.3s ease !important;
  position: relative !important;
  overflow: hidden !important;
}

.view#scene-view .continue-wrap .continue-btn:hover:not(:disabled),
.view#scene-view #scene-choices .enhanced-continue:hover:not(:disabled) {
  background: linear-gradient(135deg, #7a4d33 0%, #6b4129 100%) !important;
  box-shadow: 
    0 4px 12px rgba(139, 90, 60, 0.35),
    inset 0 1px 0 rgba(254, 252, 247, 0.2) !important;
  transform: translateY(-2px) !important;
}

.view#scene-view .continue-wrap .continue-btn:active,
.view#scene-view #scene-choices .enhanced-continue:active {
  transform: translateY(-1px) !important;
  box-shadow: 
    0 2px 6px rgba(139, 90, 60, 0.3),
    inset 0 1px 0 rgba(254, 252, 247, 0.1) !important;
}

.view#scene-view .continue-wrap .continue-btn:disabled,
.view#scene-view #scene-choices .enhanced-continue:disabled {
  background: linear-gradient(135deg, #d4c4b0 0%, #c7b59f 100%) !important;
  color: #8b7d6f !important;
  border-color: #b8a896 !important;
  box-shadow: none !important;
  cursor: not-allowed !important;
  opacity: 0.7 !important;
}

.view#scene-view .continue-wrap .continue-btn.ready,
.view#scene-view #scene-choices .enhanced-continue.ready {
  animation: paperButtonReady 0.6s ease-out !important;
}

.view#scene-view .continue-wrap .continue-dot {
  width: 6px !important;
  height: 6px !important;
  background: #c7b59f !important;
  border-radius: 50% !important;
  animation: paperDotPulse 1.8s ease-in-out infinite !important;
  opacity: 0.8 !important;
}

@keyframes paperDotPulse {
  0%, 100% { 
    transform: scale(1); 
    opacity: 0.6; 
  }
  50% { 
    transform: scale(1.4); 
    opacity: 1; 
    box-shadow: 0 0 8px rgba(199, 181, 159, 0.4);
  }
}

.view#scene-view .continue-wrap .continue-btn .btn-underline {
  background: linear-gradient(90deg, #fefcf7 0%, #f9f6f0 100%) !important;
  height: 2px !important;
  opacity: 0.8 !important;
}